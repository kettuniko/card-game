<html>
<head>
	<script type="text/javascript">
		var exampleSocket = new WebSocket("ws://localhost:8080")
		exampleSocket.onopen = function (event) {
		  exampleSocket.send("Here's some text that the server is urgently awaiting!"); 
		};
		exampleSocket.onerror = function (event) {
			alert("web soket pls " + event)
			console.log(event)
		}
		exampleSocket.onmessage = function (event) {
			var cards = JSON.parse(event.data).cards

			var images = cards.map(card => {
				var img = new Image()
				img.src = "cards/" + card.name + '.png'
				return img
			})

			var myCards = document.getElementById('my-cards');
			images.forEach(image => myCards.appendChild(image))
			document.getElementById('message').innerHTML = 'game started'
		}
	</script>

	<style type="text/css">
		#game-area {
			height: 200px;
			background: green;
		}

		#my-cards {
			height: 200px;
		}

		#my-cards img {
			width: 100px;
			padding: 5px;
		}
	</style>
</head>

<body>
	<p id="message">waiting for other player</p>

	<div id="game-area">
		
	</div>
	<div id="my-cards">

	</div>
</body>
</html>


